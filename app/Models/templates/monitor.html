<!DOCTYPE html>
<html>
<head>
	<title>
		Monitor
	</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
	<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css', v=1) }}">
</head>

<body>

	<nav class="navbar navbar-expand-lg">

  		<div class="container-fluid">
    		<a class="navbar-brand" href="#">Queue management system</a>

      		<span class="navbar-text">
        		Tue, 15:15
      		</span>
  		</div>
	</nav>

	<div class="container-fluid" id="main-part">
    
		<div class="row">
			<div class="col-lg-2 col-md-2 col-sm-12" id="customers_queue">
				<p class="h3">Queue:</p>

				<div id="customers">
					
				</div>
				
			</div>

			<div class="col-lg-10 col-md-10 col-sm-12 container-fluid" id="operators_queue">

				<div class="container text-center">
  					<div class="row">
    					<div class="col">
      						<p class="h3">Customer</p>
    					</div>
    					
    					<div class="col">
      						<p class="h3">Operator</p>
    					</div>
  					</div>
				</div>

				<!-- Template -->
				<div class="container">
  					<div class="row">
    					<div class="col">
      						<p class="h2">25</p>
    					</div>
    					
    					<div class="col">
      						<p class="h2">1</p>
    					</div>
  					</div>
				</div>

				<!-- Template -->
				<div class="container">
  					<div class="row">
    					<div class="col">
      						<p class="h2">26</p>
    					</div>
    					
    					<div class="col">
      						<p class="h2">2</p>
    					</div>
  					</div>
				</div>

				<div class="container">
  					<div class="row">
    					<div class="col">
      						<p class="h2">5</p>
    					</div>
    					
    					<div class="col">
      						<p class="h2">3</p>
    					</div>
  					</div>
				</div>

			</div>
		</div>
	</div>

</body>

<script>
	function getCustomers() {
		$.ajax({
			type: "POST",
			url: "{{ url_for('getCustomers') }}",
			data: {"get": 1},
			success: function(response) {
				$("#customers").empty()

				for (let i in response.data) {
					i++;
					$("#customers").append(
						$("<p/>")
							.text(i)
							.addClass("h1")
					);
				}
			}
		})
	}

	setInterval(getCustomers, 5 * Math.pow(10, 3));

</script>
</html>